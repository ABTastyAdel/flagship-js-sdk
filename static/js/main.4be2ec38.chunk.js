(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{112:function(e,t,a){e.exports=a.p+"static/media/Flagship-horizontal-product-white.6e8b90f3.png"},119:function(e,t,a){e.exports=a(281)},124:function(e,t,a){},135:function(e,t){},137:function(e,t){},145:function(e,t){},147:function(e,t){},278:function(e,t,a){},281:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(18),l=a.n(o),s=(a(124),a(37)),c=a(105),i=a.n(c),m=a(13),u=a(285),g=a(286),f=a(116),d=a(287),p=a(283),h=(a(278),a(291)),E=a(290),b=a(289),k=a(112),v=a.n(k),y=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{className:"fsNavbar",fixed:"top"},r.a.createElement(h.a.Brand,{href:"https://github.com/abtasty/flagship-js-sdk",className:"flex item-center"},r.a.createElement("img",{alt:"Logo Flagship",src:v.a,className:"d-inline-block align-top logoAdjust"}),"JS SDK with React"),r.a.createElement(E.a,{className:"mr-auto"},r.a.createElement(E.a.Link,{href:"#initialization"},"Initialization"),r.a.createElement(E.a.Link,{href:"#modifications"},"Modifications"),r.a.createElement(E.a.Link,{href:"#hits"},"Hits"),r.a.createElement(E.a.Link,{href:"#unit-tests"},"Unit tests"),r.a.createElement(E.a.Link,{href:"#other"},"Other")),r.a.createElement(b.a,{inline:!0},r.a.createElement(E.a.Link,{href:"https://github.com/abtasty/flagship-js-sdk"},"Github"),r.a.createElement(E.a.Link,{href:"https://www.abtasty.com/solutions-product-teams/"},"What is Flagship ?"))))},N=a(288),S=a(284),C=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],o=t[1],l=function(){return o(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{variant:"light",onClick:function(){return o(!0)}},"More info here \ud83d\ude09"),r.a.createElement(N.a,{show:a,onHide:l,size:"lg"},r.a.createElement(N.a.Header,{closeButton:!0},r.a.createElement(N.a.Title,null,"Create a use case on Flagship Dashboard")),r.a.createElement(N.a.Body,null,r.a.createElement("h5",null,"1 - Sign in on Flagship"),r.a.createElement("p",null," ",r.a.createElement("a",{href:"https://app.flagship.io/login",target:"_blank",rel:"noopener noreferrer"},"\ud83d\udc49 Click here to log in")),r.a.createElement("h5",{className:"pt3"},'2 - Click on "+" button'),r.a.createElement("a",{href:"https://storage.googleapis.com/flagship-dev-public-storage/Screenshot%20at%20Dec%2004%2016-30-28.png",target:"_blank",rel:"noopener noreferrer",style:{cursor:"zoom-in"}},r.a.createElement(S.a,{src:"https://storage.googleapis.com/flagship-dev-public-storage/Screenshot%20at%20Dec%2004%2016-30-28.png",fluid:!0})),r.a.createElement("h5",{className:"pt3"},"3 - Select or create a new project"),r.a.createElement("a",{href:"https://storage.googleapis.com/flagship-dev-public-storage/Screenshot%20at%20Dec%2004%2016-33-43.png",target:"_blank",rel:"noopener noreferrer",style:{cursor:"zoom-in"}},r.a.createElement(S.a,{src:"https://storage.googleapis.com/flagship-dev-public-storage/Screenshot%20at%20Dec%2004%2016-33-43.png",fluid:!0})),r.a.createElement("h5",{className:"pt3"},"4 - Name your project (if creating a new one)"),r.a.createElement("a",{href:"https://storage.googleapis.com/flagship-dev-public-storage/Screenshot%20at%20Dec%2004%2016-34-22.png",target:"_blank",rel:"noopener noreferrer",style:{cursor:"zoom-in"}},r.a.createElement(S.a,{src:"https://storage.googleapis.com/flagship-dev-public-storage/Screenshot%20at%20Dec%2004%2016-34-22.png",fluid:!0})),r.a.createElement("h5",{className:"pt3"},"5 - Choose a use case"),r.a.createElement("a",{href:"https://storage.googleapis.com/flagship-dev-public-storage/Screenshot%20at%20Dec%2004%2016-36-11.png",target:"_blank",rel:"noopener noreferrer",style:{cursor:"zoom-in"}},r.a.createElement(S.a,{src:"https://storage.googleapis.com/flagship-dev-public-storage/Screenshot%20at%20Dec%2004%2016-36-11.png",fluid:!0})),r.a.createElement("h5",{className:"pt3"},"6 - Fill use case's basic info"),r.a.createElement("a",{href:"https://storage.googleapis.com/flagship-dev-public-storage/Screenshot%20at%20Dec%2004%2016-38-13.png",target:"_blank",rel:"noopener noreferrer",style:{cursor:"zoom-in"}},r.a.createElement(S.a,{src:"https://storage.googleapis.com/flagship-dev-public-storage/Screenshot%20at%20Dec%2004%2016-38-13.png",fluid:!0})),r.a.createElement("h5",{className:"pt3"},"7 - Define use case's flag and scenarios"),r.a.createElement("a",{href:"https://storage.googleapis.com/flagship-dev-public-storage/Screenshot%20at%20Dec%2004%2016-39-34.png",target:"_blank",rel:"noopener noreferrer",style:{cursor:"zoom-in"}},r.a.createElement(S.a,{src:"https://storage.googleapis.com/flagship-dev-public-storage/Screenshot%20at%20Dec%2004%2016-39-34.png",fluid:!0})),r.a.createElement("h5",{className:"pt3"},"8 - Define use case's targeting"),r.a.createElement("a",{href:"https://storage.googleapis.com/flagship-dev-public-storage/Screenshot%20at%20Dec%2004%2016-40-21.png",target:"_blank",rel:"noopener noreferrer",style:{cursor:"zoom-in"}},r.a.createElement(S.a,{src:"https://storage.googleapis.com/flagship-dev-public-storage/Screenshot%20at%20Dec%2004%2016-40-21.png",fluid:!0})),r.a.createElement("h2",{className:"pt4 tc"},"All done \ud83d\udc4f\ud83d\udc4f"),r.a.createElement(S.a,{className:"db",style:{marginRight:"auto",marginLeft:"auto"},src:"https://media.giphy.com/media/XreQmk7ETCak0/giphy.gif",fluid:!0})),r.a.createElement(N.a.Footer,null,r.a.createElement(p.a,{variant:"secondary",onClick:l},r.a.createElement("div",{className:"mh3"},"Ok")))))},w=function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)({}),c=Object(s.a)(l,2),h=c[0],E=c[1];return Object(n.useEffect)((function(){var e=i.a.initSdk("bn1ab7m56qolupi5sa0g",{fetchNow:!0,enableConsoleLogs:!0}).newVisitor("test-perf",{screenMode:"light"});e.on("ready",(function(){o(e)}))}),[]),Object(n.useEffect)((function(){a&&a.getModifications([{key:"color",defaultValue:"#fff"},{key:"borderColor",defaultValue:"#007bff"},{key:"backgroundColor",defaultValue:"#007bff"}],!0).then((function(e){return E(e)}))}),[a]),r.a.createElement(r.a.Fragment,null,r.a.createElement(y,null),r.a.createElement(u.a,{className:"mt3"},r.a.createElement(g.a,null,r.a.createElement(f.a,null,r.a.createElement("a",{className:"fsAnchor",id:"initialization"}),r.a.createElement(d.a,{variant:"dark",className:"fs-alert"},r.a.createElement(d.a.Heading,null,"Initialization \ud83d\udd0c\ud83d\udd79"),r.a.createElement("p",null,"In your React component, create first a state hook for your visitor:"),r.a.createElement(m.a,{className:"mv3",codeString:"const [fsVisitor, setFsVisitor] = useState(null);"}),r.a.createElement("p",null,"Then initialize everything, using an effect hook:"),r.a.createElement(m.a,{className:"mv3",codeString:"useEffect(() => {\n  const fsSdk = flagship.initSdk('bn1ab7m56qolupi5sa0g', { fetchNow: true, enableConsoleLogs: true });\n\n  const visitorInstance = fsSdk.newVisitor('test-perf', {\n    screenMode: 'light',\n  });\n\n  visitorInstance.on('ready', () => {\n    setFsVisitor(visitorInstance);\n  });\n}, []);"}),r.a.createElement(d.a,{variant:"info",className:"fs-alert"},r.a.createElement("b",null,"NOTE:")," ","You can check logs generated using your browser inspect tools :)")))),r.a.createElement(g.a,null,r.a.createElement(f.a,null,r.a.createElement("a",{className:"fsAnchor",id:"modifications"}),r.a.createElement(d.a,{variant:"dark",className:"fs-alert"},r.a.createElement(d.a.Heading,null,"Get customized modifications \ud83c\udfac"),r.a.createElement(d.a,{variant:"info",className:"fs-alert"},r.a.createElement(d.a.Heading,null,"Prerequisite:"),r.a.createElement("p",null,"Make sure to create a use case on Flagship Dashboard first"),r.a.createElement(C,null)),r.a.createElement("p",null,'Considering you want to customize a "add to basket" button which actually in your code looks similar to this:'),r.a.createElement(m.a,{className:"mv3",codeString:'<Button variant="primary" className="mb3">Add to basket  \ud83d\uded2</Button>'}),r.a.createElement("p",null,r.a.createElement("b",null,"Output:")),r.a.createElement(p.a,{variant:"primary",className:"mb3"},"Add to basket  \ud83d\uded2"),r.a.createElement("p",null,"Black friday event is coming, so you're looking to access modifications in order to put specific style to this button using Flagship.",r.a.createElement("br",null),"Here an example of how to get customized modifications and apply it to the button"),r.a.createElement("p",null,"1 - Add state hook"),r.a.createElement(m.a,{className:"mv3",codeString:"const [customBtnData, setCustomBtnData] = useState<{[key: string]: string}>({});"}),r.a.createElement("p",null,"2 - Initialized it with getModifications function"),r.a.createElement(m.a,{className:"mv3",codeString:"useEffect(\n  () => {\n    if (fsVisitor) {\n      fsVisitor.getModifications([\n        {\n          key: 'color',\n          defaultValue: '#fff',\n        },\n        {\n          key: 'borderColor',\n          defaultValue: '#007bff',\n        },\n        {\n          key: 'backgroundColor',\n          defaultValue: '#007bff',\n        },\n      ], true).then((data) => setCustomBtnData(data as {[key: string]: string}));\n    }\n  }, [fsVisitor],\n);"}),r.a.createElement("p",null,"3 - Plug it"),r.a.createElement(m.a,{className:"mv3",codeString:'<Button\n  variant="primary"\n  className="mb3"\n  style={\n    {\n      color: customBtnData.color,\n      backgroundColor: customBtnData.backgroundColor,\n      borderColor: customBtnData.borderColor,\n    }\n  }\n>\n  Add to basket  \ud83d\uded2\n</Button>'}),r.a.createElement("p",null,r.a.createElement("b",null,"Output:")),r.a.createElement(p.a,{variant:"primary",className:"mb3",style:{color:h.color,backgroundColor:h.backgroundColor,borderColor:h.borderColor}},"Add to basket  \ud83d\uded2")))),r.a.createElement(g.a,null,r.a.createElement(f.a,null,r.a.createElement("a",{className:"fsAnchor",id:"hits"}),r.a.createElement(d.a,{variant:"dark",className:"fs-alert"},r.a.createElement(d.a.Heading,null,"Send some tracking info \ud83d\udcec"),r.a.createElement("p",null,"Continuing the previous example (Customized black friday add to basket button), let's add a hit when the user click on the button.",r.a.createElement("br",null),"The hit will be type of"," ",r.a.createElement("b",null,"event")),r.a.createElement(m.a,{className:"mv3",codeString:"<Button\n  {...}\n  onClick={(): void => {\n    if (fsVisitor) {\n      const eventPayload: EventHit = {\n        category: 'Action Tracking',\n        action: 'clickOnBasketButton',\n      };\n      fsVisitor.sendHits([\n        {\n          type: 'Event',\n          data: eventPayload,\n        },\n      ]);\n    }\n  }}\n  style={...}\n>\n  Add to basket  \ud83d\uded2\n</Button>"}),r.a.createElement("p",null,r.a.createElement("b",null,"Output:")),r.a.createElement(p.a,{variant:"primary",className:"mb3",onClick:function(){if(a){a.sendHits([{type:"Event",data:{category:"Action Tracking",action:"clickOnBasketButton"}}])}},style:{color:h.color,backgroundColor:h.backgroundColor,borderColor:h.borderColor}},"Add to basket  \ud83d\uded2"),r.a.createElement(d.a,{variant:"info",className:"fs-alert"},r.a.createElement("b",null,"NOTE:")," ","You can check API call using your browser inspect tools (network section) :)")))),r.a.createElement(g.a,null,r.a.createElement(f.a,null,r.a.createElement("a",{className:"fsAnchor",id:"unit-tests"}),r.a.createElement(d.a,{variant:"dark",className:"fs-alert"},r.a.createElement(d.a.Heading,null,"Unit tests \ud83d\udccb\u2705"),"You might have to mock the Flagship SDK in your tests.",r.a.createElement("br",null),"Considering you're using jest:",r.a.createElement(m.a,{className:"mv3",codeString:"\nimport flagship from '@flagship.io/js-sdk';\nimport { EventEmitter } from 'events';\n\nflagship.initSdk = jest.fn().mockImplementation(() => ({\n  newVisitor: () => {\n    const self = new EventEmitter();\n    return self;\n  },\n}));\n                  "}),r.a.createElement(d.a,{variant:"info",className:"fs-alert"},r.a.createElement("b",null,"NOTE:")," ","This sample can be adjust according your needs."),r.a.createElement(d.a,{variant:"info",className:"fs-alert"},r.a.createElement("b",null,"NOTE2:")," ","Have a look to"," ",r.a.createElement("b",null,"App.test.tsx")," ","for a complete overview.")))),r.a.createElement(g.a,null,r.a.createElement(f.a,null,r.a.createElement("a",{className:"fsAnchor",id:"other"}),r.a.createElement(d.a,{variant:"dark",className:"fs-alert"},r.a.createElement(d.a.Heading,null,"Some additional info \u200d\ud83d\udcd1"),r.a.createElement("p",null,"Once the SDK is initialized and a fetched of modifications has been done (fetchNow=true, getModifications() called), you can have access to the fetched data like so:"),r.a.createElement(m.a,{className:"mv3",codeString:"\n  const fsModificationsInCache = fsVisitor.fetchedModifications;\n  console.log(fsModificationsInCache);\n                  "}),r.a.createElement("p",null,"Which gives something like: "),null!==a&&r.a.createElement(m.a,{className:"mv3",codeString:null!==a&&JSON.stringify(a.fetchedModifications,null,1)}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(280);l.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[119,1,2]]]);
//# sourceMappingURL=main.4be2ec38.chunk.js.map